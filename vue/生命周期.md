## 什么是生命周期？

 当前组件从创建到销毁的一系列过程，称为生命周期。包括：开始创建、初始化数据、编译模板、挂载DOM ->渲染、更新->渲染、卸载等一系列操作。

## 有哪些阶段？每个阶段有哪些钩子函数？

**3个阶段**

- 初始化
- 运行中
- 销毁

**钩子函数**

​	options配置项中的一个方法，在特定的触发条件下会自动触发

### 初始化阶段

4个钩子函数	触发条件：自动执行

#### beforeCreate

1. 组件即将创建，进行组件事件和生命周期的初始化，此时还没有初始化好data和methods属性
2. 项目中一般不适用，但是有的开发者会在这里进行数据请求

#### created

1. 组件已经在内存中创建好，此时data和methods已经创建，但还没有开始编译模板
2. 项目中：
   1. 异步请求接口数据
   2. 进行数据修改

#### beforeMount

1. 已经完成模板编译，即将挂载
2. 判断根实例组件中是否有el选项，没有则手动挂载。
3. 项目中：
   1. 异步请求接口数据
   2. 进行数据修改

#### mounted

1.   组件挂载结束
2. 渲染使用真实DOM替换VDOM
3. 项目中：
   1. 异步请求接口数据
   2. 进行数据修改
   3. 可以进行真实DOM操作（vue一般情况下不要直接操作真实DOM，一般可以进行第三方库的实例化）

**总结：**

初始化过程中，项目中可以进行：

- 数据请求：created
- DOM操作：mounted
- 数据修改：beforeMounted created mounted

### 运行中阶段

2个钩子函数    触发条件：当data选项中的数据发生改变时

#### beforeUpdate

- 状态更新之前执行此函数，此时data中的状态值是最新的，但是界面上显示的数据还是旧的，因此此时还没有开始渲染DOM节点
- 内部操作：vdom的生成和diff算法对比

#### update

- 此时，data中的状态值和界面上显示的数据，都已经完成了更新，界面已经被重新渲染好
- 可以进行异步数据请求，将得到的dom渲染的第三方库实例化

### 销毁阶段

2个钩子函数，可以用来善后，把一些计数器，第三方库实例化出来的实例销毁

#### beforeDestory

- 组件即将销毁，准备调用`$.destory()`方法

#### destoryed

- 组件销毁结束。调用后，组件中的所有东西都会解绑，包括事件监听器以及子组件的销毁。



## 组件销毁的两种方式

- 用$destroy()方法，缺点：会将组件的模板保留下来
- 使用开关销毁（外部销毁） v-if  这种类型销毁不会留下模板

## 生命周期示意图

![](D:\我的资料\前端笔记\Daily-Note\vue\assets\生命周期.png)

![](https://github.com/FFFangYu/Daily-Note/blob/master/vue/assets/生命周期.png)