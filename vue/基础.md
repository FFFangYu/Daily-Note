## 1. æ¨¡æ¿è¯­æ³•

ä½¿ç”¨**mustacheè¯­æ³• {{}}**ï¼Œæ•°æ®ç±»å‹éƒ½æ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯ä¸æ”¯æŒ è¾“å‡ºè¯­æ³•(console.log alert)

### 1.1 æ’å€¼

- æ–‡æœ¬ {{}}
- çº¯HTML
  - v-html   é˜²æ­¢è„šæœ¬æ”»å‡»XSSã€CSRF
- Attribute
  - {{}}è¯­æ³•ä¸èƒ½ä½œç”¨åœ¨HTML Attributeä¸Šï¼Œå¯ä»¥ä½¿ç”¨v-bind
- è¡¨è¾¾å¼
  - æ”¯æŒJavaScriptè¡¨è¾¾å¼
  - `{{number+1}}`

### 1.2 æŒ‡ä»¤

å¸¦æœ‰`v-`å‰ç¼€çš„ç‰¹æ®Šå±æ€§

- å‚æ•°

- åŠ¨æ€å‚æ•°

  - ä¾‹å¦‚åœ¨dataä¸­æœ‰ä¸ªattributeNameï¼Œå€¼ä¸ºhrefï¼Œæ­¤æ—¶

    ```html
    <a v-bind:[attributeName]="url"> ... </a>
    ->
    <a v-bind:href="url"> ... </a>
    ```

  - åŠ¨æ€å‚æ•°é¢„æœŸä¼šæ±‚å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¼‚å¸¸æƒ…å†µä¸‹å€¼ä¸ºnullã€‚ è¿™ä¸ªç‰¹æ®Šçš„ `null` å€¼å¯ä»¥è¢«æ˜¾æ€§åœ°ç”¨äºç§»é™¤ç»‘å®šã€‚ä»»ä½•å…¶å®ƒéå­—ç¬¦ä¸²ç±»å‹çš„å€¼éƒ½å°†ä¼šè§¦å‘ä¸€ä¸ªè­¦å‘Šã€‚ 

  -  åŠ¨æ€å‚æ•°è¡¨è¾¾å¼æœ‰ä¸€äº›è¯­æ³•çº¦æŸï¼Œå› ä¸ºæŸäº›å­—ç¬¦ï¼Œå¦‚ç©ºæ ¼å’Œå¼•å·ï¼Œæ”¾åœ¨ HTML attribute åé‡Œæ˜¯æ— æ•ˆçš„ã€‚ æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§æ¥æ›¿ä»£è¿™ç§è¡¨è¾¾å¼ã€‚

- ä¿®é¥°ç¬¦

### 1.3 ç¼©å†™

- `v-bind:src => :src`
- `v-on:click => @click`



## 2. ä½¿ç”¨æ ·å¼

### 2.1 ä½¿ç”¨classæ ·å¼

#### æ•°ç»„

```HTML
<h1 :class="['red', 'thin']">è¿™æ˜¯ä¸€ä¸ªé‚ªæ¶çš„H1</h1>
```

#### æ•°ç»„ä¸­ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼

```html
<h1 :class="['red', 'thin', isactive?'active':'']">è¿™æ˜¯ä¸€ä¸ªé‚ªæ¶çš„H1</h1>
```

#### æ•°ç»„ä¸­åµŒå¥—å¯¹è±¡

```html
<h1 :class="['red', 'thin', {'active': isactive}]">è¿™æ˜¯ä¸€ä¸ªé‚ªæ¶çš„H1</h1>
```

#### ç›´æ¥ä½¿ç”¨å¯¹è±¡

```html
<h1 :class="{red:true, italic:true, active:true, thin:true}">è¿™æ˜¯ä¸€ä¸ªé‚ªæ¶çš„H1</h1>
```

#### é€šè¿‡è®¡ç®—å±æ€§è¿”å›å¯¹è±¡

```html
  <div v-bind:class="classObject"></div>  
```

```js
data: {
  isActive: true,
  error: null
},
computed: {
  classObject: function () {
    return {
      active: this.isActive && !this.error,
      'text-danger': this.error && this.error.type === 'fatal'
    }
  }
}
```

#### ç”¨åœ¨ç»„ä»¶ä¸Š

```html
/* ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™æ·»åŠ ä¸€äº›class */
<my-component class="baz boo"></my-component>
```



### 2.2 ä½¿ç”¨å†…è”æ ·å¼

#### ç›´æ¥åœ¨å…ƒç´ ä¸Šé€šè¿‡ `:style` çš„å½¢å¼ï¼Œä¹¦å†™æ ·å¼**å¯¹è±¡**

```html
<h1 :style="{color: 'red', 'font-size': '40px'}">è¿™æ˜¯ä¸€ä¸ªå–„è‰¯çš„H1</h1>
```

#### å°†æ ·å¼å¯¹è±¡ï¼Œå®šä¹‰åˆ° `data` ä¸­ï¼Œå¹¶ç›´æ¥å¼•ç”¨åˆ° `:style` ä¸­

 + åœ¨dataä¸Šå®šä¹‰æ ·å¼ï¼š

```js
data: {
        h1StyleObj: { color: 'red', 'font-size': '40px', 'font-weight': '200' }
}
```

 + åœ¨å…ƒç´ ä¸­ï¼Œé€šè¿‡å±æ€§ç»‘å®šçš„å½¢å¼ï¼Œå°†æ ·å¼å¯¹è±¡åº”ç”¨åˆ°å…ƒç´ ä¸­ï¼š

```html
<h1 :style="h1StyleObj">è¿™æ˜¯ä¸€ä¸ªå–„è‰¯çš„H1</h1>
```

#### åœ¨ `:style` ä¸­é€šè¿‡æ•°ç»„ï¼Œå¼•ç”¨å¤šä¸ª `data` ä¸Šçš„æ ·å¼å¯¹è±¡

 + åœ¨dataä¸Šå®šä¹‰æ ·å¼ï¼š

```js
data: {
        h1StyleObj: { color: 'red', 'font-size': '40px', 'font-weight': '200' },
        h1StyleObj2: { fontStyle: 'italic' }
}
```

 + åœ¨å…ƒç´ ä¸­ï¼Œé€šè¿‡å±æ€§ç»‘å®šçš„å½¢å¼ï¼Œå°†æ ·å¼å¯¹è±¡åº”ç”¨åˆ°å…ƒç´ ä¸­ï¼š

```html
<h1 :style="[h1StyleObj, h1StyleObj2]">è¿™æ˜¯ä¸€ä¸ªå–„è‰¯çš„H1</h1>
```

#### è‡ªåŠ¨æ·»åŠ å‰ç¼€

å½“ `v-bind:style` ä½¿ç”¨éœ€è¦æ·»åŠ [æµè§ˆå™¨å¼•æ“å‰ç¼€](https://developer.mozilla.org/zh-CN/docs/Glossary/Vendor_Prefix)çš„ CSS property æ—¶ï¼Œå¦‚ `transform`ï¼ŒVue.js ä¼šè‡ªåŠ¨ä¾¦æµ‹å¹¶æ·»åŠ ç›¸åº”çš„å‰ç¼€ã€‚ 

#### å¤šé‡å€¼

 å¯ä»¥ä¸º `style` ç»‘å®šä¸­çš„ property æä¾›ä¸€ä¸ªåŒ…å«å¤šä¸ªå€¼çš„æ•°ç»„ï¼Œå¸¸ç”¨äºæä¾›å¤šä¸ªå¸¦å‰ç¼€çš„å€¼ï¼Œä¾‹å¦‚ï¼š 

```html
<div :style="{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }"></div>
```

è¿™æ ·å†™åªä¼šæ¸²æŸ“æ•°ç»„ä¸­æœ€åä¸€ä¸ªè¢«æµè§ˆå™¨æ”¯æŒçš„å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå¦‚æœæµè§ˆå™¨æ”¯æŒä¸å¸¦æµè§ˆå™¨å‰ç¼€çš„ flexboxï¼Œé‚£ä¹ˆå°±åªä¼šæ¸²æŸ“ `display: flex`ã€‚

 

## 3. åŸºæœ¬æŒ‡ä»¤

Vue = æŒ‡ä»¤ + ç»„ä»¶

**æŒ‡ä»¤**

- ä½œç”¨ï¼šç”¨æ¥æ“ä½œDOMï¼ŒæŒ‡ä»¤å°±æ˜¯ç»‘å®šåœ¨DOMèº«ä¸Šçš„ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§å…·å¤‡ä¸€å®šçš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½ç”¨æ¥æ“ä½œDOM

-  ä¸ç”¨å†ä½¿ç”¨åŸç”Ÿæ–¹æ³•ï¼Œå…ˆè·å–DOMå†æ“ä½œï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æŒ‡ä»¤æ¥æ“ä½œ

-  è¿™ä¸ªæŒ‡ä»¤éœ€è¦æ¨¡æ¿è¯­æ³•çš„æ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨jsxè¯­æ³•ç³–

### 3.1 æ ¼å¼

-   v-xxx = "mustacheè¯­æ³•"

-   v-xxx = "msg" æ­£ç¡®æ ¼å¼

-   v-xxx = "{{msg}}" é”™è¯¯æ ¼å¼

### 3.2 å¸¸ç”¨æŒ‡ä»¤

-  v-html  å°†ä¸€ä¸ªæ•°æ®å±•ç¤ºåœ¨ä¸€ä¸ªDOMä¸­ï¼Œ innerHTML(htmlå±æ€§)

- v-bind  ä½¿ç”¨æŠ€å·§ï¼šå‡¡æ˜¯DOMçš„å±æ€§è¦å’Œæ•°æ®è¿›è¡Œç»‘å®šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨v-bind
  - æ ¼å¼ï¼šv-bind:DOMsrc = "msg" =>ç®€å†™ä¸º :DOMsrc = "msg"
- v-text  éè½¬ä¹‰è¾“å‡º ä¸v-htmlçš„å·®åˆ«æ˜¯ä¸èƒ½è§£æ

### 3.3 classå’Œstyleï¼šæ¨èä½¿ç”¨æ•°ç»„çš„å†™æ³•

-   class(å¯¹è±¡å½¢å¼å’Œæ•°ç»„å½¢å¼)

-   style(å¯¹è±¡å½¢å¼å’Œæ•°ç»„å½¢å¼)

### 3.4 æ¡ä»¶æ¸²æŸ“  v-if && v-show

-  v-if
  - å•è·¯åˆ†æ”¯
  - åŒè·¯åˆ†æ”¯
  - å¤šè·¯åˆ†æ”¯
- v-show

- ä¸¤è€…å¯¹æ¯”ï¼šä¸€èˆ¬æ¥è¯´ï¼Œv-ifæœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œv-showæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢ä½¿ç”¨v-showæ¯”è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ä½¿ç”¨v-ifè¾ƒå¥½ã€‚

-  templateæ ‡ç­¾ å¦‚æœæ”¾åœ¨æ¨¡æ¿ï¼ˆvueå®ä¾‹elå…ƒç´ æ‚¬æŒ‚ï¼‰èŒƒå›´å†…ä½¿ç”¨ï¼Œé‚£ä¹ˆä¸ä¼šè¢«è§£ææ¸²æŸ“

### 3.5 åˆ—è¡¨æ¸²æŸ“ v-for

-  æ ¼å¼
  - v-for = "xxx in(of) data"
  - ä¸¾ä¾‹ï¼šv-for = "item in(of) todos"

-  å¸¦å‚æ•°çš„æ ¼å¼

  -  v-for = "(item,index) in(of) todos"

- `key`ï¼ˆç†æƒ³çš„keyæ˜¯ä½¿ç”¨æ•°æ®çš„id,ç”¨äºè·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼‰

  - å½“ Vue æ­£åœ¨æ›´æ–°ä½¿ç”¨ `v-for` æ¸²æŸ“çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ä½¿ç”¨â€œ**å°±åœ°æ›´æ–°**â€çš„ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯å°±åœ°æ›´æ–°æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒä»¬åœ¨æ¯ä¸ªç´¢å¼•ä½ç½®æ­£ç¡®æ¸²æŸ“ã€‚è¿™ä¸ªç±»ä¼¼ Vue 1.x çš„ `track-by="$index"`ã€‚

    è¿™ä¸ªé»˜è®¤çš„æ¨¡å¼æ˜¯é«˜æ•ˆçš„ï¼Œä½†æ˜¯**åªé€‚ç”¨äºä¸ä¾èµ–å­ç»„ä»¶çŠ¶æ€æˆ–ä¸´æ—¶ DOM çŠ¶æ€ (ä¾‹å¦‚ï¼šè¡¨å•è¾“å…¥å€¼) çš„åˆ—è¡¨æ¸²æŸ“è¾“å‡º**ã€‚

  - æ•…ï¼šæ¯æ¬¡åˆ—è¡¨å¾ªç¯çš„åé¢éƒ½è¦ç»‘å®šä¸€ä¸ªkeyå±æ€§ï¼Œæ˜¯ä¸ºäº†è¿›è¡ŒDOMçš„å”¯ä¸€æ ‡è¯†ï¼Œè¿™æ ·å°±ä¸ä¼šè®©vueå› ä¸ºæƒ°æ€§è€Œå½±å“åˆ—è¡¨çš„æ­£å¸¸æ¸²æŸ“

-  æ•°ç»„æ›´æ–°æ£€æµ‹
  - ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ“ä½œæ•°ç»„ï¼Œå¯ä»¥æ£€æµ‹å˜åŠ¨

    - push() 
    - pop() 
    - shift() 
    - unshift() 
    - splice() 
    - sort() 
    - reverse()

  - filter() concat() å’Œ slice() map(),æ–°æ•°ç»„æ›¿æ¢æ—§æ•°ç»„

  - ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„

    - `vm.items[indexOfItem] = newValue`
      - **è§£å†³** Vue.set(example1.item,indexOfItem,newValue)

    - `vm.items.length = 0`
      - **è§£å†³** splice

- æ˜¾ç¤ºè¿‡æ»¤/æ’åºåçš„ç»“æœ

  æœ‰æ—¶å€™ï¼Œéœ€è¦æ˜¾ç¤ºä¸€ä¸ªæ•°ç»„ç»è¿‡è¿‡æ»¤æˆ–æ’åºåçš„ç‰ˆæœ¬ï¼Œä½†æ˜¯å®é™…å¹¶ä¸å˜æ›´æˆ–è€…é‡ç½®åŸå§‹æ•°æ®ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œæ¥è¿”å›è¿‡æ»¤æˆ–æ’åºçš„æ•°ç»„ã€‚



## 4. è®¡ç®—å±æ€§å’Œä¾¦å¬

### 4.1 è®¡ç®—å±æ€§

```js
computed: {
    // è®¡ç®—å±æ€§çš„ getter
    reversedMessage: function () {
        // `this` æŒ‡å‘ vm å®ä¾‹
        return this.message.split('').reverse().join('')
    }
}
```

- æœ‰é€»è¾‘
- åƒå˜é‡ä¸€æ ·ä½¿ç”¨
- ä¸€å®šæœ‰è¿”å›å€¼

### 4.2 **computed vs methodsï¼ˆäº‹ä»¶å¤„ç†ç¨‹åºï¼‰**

- è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„ã€‚
  - æ„å‘³ç€åªè¦ä¾èµ–çš„å€¼æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¼šç›´æ¥è¿”å›ä¹‹å‰è®¡ç®—å¥½çš„å€¼ï¼Œè€Œä¸éœ€è¦é‡æ–°æ±‚å€¼
- è®¡ç®—å±æ€§åªæœ‰åœ¨å®ƒçš„ç›¸å…³ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚

ğŸˆ **æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜ï¼Ÿ**

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ€§èƒ½å¼€é”€æ¯”è¾ƒå¤§çš„è®¡ç®—å±æ€§ **A**ï¼Œå®ƒéœ€è¦éå†ä¸€ä¸ªå·¨å¤§çš„æ•°ç»„å¹¶åšå¤§é‡çš„è®¡ç®—ã€‚ç„¶åæˆ‘ä»¬å¯èƒ½æœ‰å…¶ä»–çš„è®¡ç®—å±æ€§ä¾èµ–äº **A**ã€‚å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œæˆ‘ä»¬å°†ä¸å¯é¿å…çš„å¤šæ¬¡æ‰§è¡Œ **A** çš„ getterï¼å¦‚æœä½ ä¸å¸Œæœ›æœ‰ç¼“å­˜ï¼Œè¯·ç”¨æ–¹æ³•æ¥æ›¿ä»£ã€‚ 

### 4.3 **computed vs watch**

Vue æä¾›äº†ä¸€ç§æ›´é€šç”¨çš„æ–¹å¼æ¥è§‚å¯Ÿå’Œå“åº” Vue å®ä¾‹ä¸Šçš„æ•°æ®å˜åŠ¨ï¼š**ä¾¦å¬å±æ€§**ã€‚å½“ä½ æœ‰ä¸€äº›æ•°æ®éœ€è¦éšç€å…¶å®ƒæ•°æ®å˜åŠ¨è€Œå˜åŠ¨æ—¶ï¼Œä½ å¾ˆå®¹æ˜“æ»¥ç”¨ `watch`â€”â€”ç‰¹åˆ«æ˜¯å¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡ AngularJSã€‚ç„¶è€Œï¼Œé€šå¸¸æ›´å¥½çš„åšæ³•æ˜¯ä½¿ç”¨è®¡ç®—å±æ€§è€Œä¸æ˜¯å‘½ä»¤å¼çš„ `watch` å›è°ƒã€‚ 

### 4.4 è®¡ç®—å±æ€§çš„setter

 è®¡ç®—å±æ€§é»˜è®¤åªæœ‰ getterï¼Œä¸è¿‡åœ¨éœ€è¦æ—¶ä½ ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ª setterï¼š 

```js
computed: {
  fullName: {
    // getter
    get: function () {
      return this.firstName + ' ' + this.lastName
    },
    // setter
    set: function (newValue) {
      var names = newValue.split(' ')
      this.firstName = names[0]
      this.lastName = names[names.length - 1]
    }
  }
}
```

### 4.5 ä¾¦å¬å±æ€§

ä½¿ç”¨åœºæ™¯ï¼š å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ ï¼Œ é€šè¿‡ `watch` é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚ 

- ä¾¦å¬å±æ€§ watchï¼ˆå¼‚æ­¥æ“ä½œ-->æ•°æ®è¯·æ±‚ï¼‰
  - ç”¨æ¥ç›‘å¬ data é€‰é¡¹ä¸­çš„æ•°æ®ï¼Œåªè¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œå®ƒå°±ä¼šè§¦å‘
  - watchæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒé‡Œé¢å­˜å‚¨çš„æ˜¯{ [key: string]: string | Function | Object | Array },é€šå¸¸å­˜å‚¨çš„æ˜¯æ–¹æ³•
  - watchä¸­æ–¹æ³•çš„åç§°å°±æ˜¯dataé€‰é¡¹ä¸­æ•°æ®çš„åç§°
  - æ·±åº¦ç›‘å¬ ä¸æ˜¯ä»¥æ–¹æ³•çš„å½¢å¼ç›‘å¬ï¼Œç”¨å¯¹è±¡çš„å½¢å¼{}
    - æ·»åŠ  deepï¼štrue
    - æ·»åŠ  handler(){} //å¤„ç†å‡½æ•°

```html
<div id="app">
    <input type="text" v-model = "msg">
    <input type="text" v-model = "num">
</div>
```

```js
new Vue({
    data:{
        msg:'hello',
        num:100
    },
    watch:{
        msg(){
            console.log('change')
        },
        num:{
            deep:true,
            handler(){
                console.log('num change')
            }
        }
    }
}).$mount('#app')//æ‰‹åŠ¨æŒ‚è½½appæ¨¡æ¿
```

